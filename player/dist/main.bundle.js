!function(e){function t(t){for(var r,a,l=t[0],c=t[1],u=t[2],p=0,f=[];p<l.length;p++)a=l[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(s&&s(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,l=1;l<n.length;l++){var c=n[l];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=c;i.push([106,1]),n()}({106:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(8),a=(n(76),n(66)),l=n(46),c=n(12),u=n(1),s=n.n(u),p=n(57),f=n.n(p),y=n(58),d=n.n(y);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n=null,r=e.type,o=e.params;n="".concat(window.API_BASE_URL,"/extract?"),n+="type=".concat(r);var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{},t);return Object.keys(i).forEach((function(e){return n+="&".concat(e,"=").concat(i[e])})),function(e){return"".concat(n,"&url=").concat(encodeURIComponent(e))}}function v(){return!!window.matchMedia&&window.matchMedia("only screen and (max-width: 768px)").matches}function g(){return!!window.matchMedia&&window.matchMedia("only screen and (max-width: 570px)").matches}function k(e){if(isNaN(e))return"";var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=Math.floor(e-3600*t-60*n);return t<10&&(t="0"+t),n<10&&(n="0"+n),r<10&&(r="0"+r),t+":"+n+":"+r}var w=50;function O(e){var t=w,n=d()(e,(function(e){return e.path}));return 1==Object.keys(n).length&&e.length>t?e.reduce((function(e,n,r){var o=Math.floor(r/t);return e[o]?e[o].files.push(n):e[o]={name:"".concat(o*t," - ").concat((o+1)*t-1),files:[n]},e}),[]):Object.keys(n).map((function(e){return{name:e,files:n[e]}}))}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=P(this,j(t).call(this,e,n))).setTrackWidthState=function(){r.track&&r.setState({trackWidth:r.track.offsetWidth})},r.handleSeekEnd=function(e){var t=r.props,n=t.onSeekTime,o=t.onSeekEnd,i=r.calcTime(e);n(null),o(i)},r.handleStartHover=function(e){var t=r.calcTime(e);r.props.onSeekTime(t)},r.handleEndHover=function(){r.props.onSeekTime(null)},r.state={trackWidth:0},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.setTrackWidthState(),window.addEventListener("resize",this.setTrackWidthState)}},{key:"calcTime",value:function(e){var t=this.state.trackWidth;return this.props.duration*(((e.touches?e.touches[0].pageX:e.pageX)-this.track.getBoundingClientRect().left)/t)}},{key:"getPositionStyle",value:function(e,t){return e?{transform:"scaleX("+e/t+")"}:{transform:"scaleX(0)"}}},{key:"render",value:function(){var e=this,t=this.props,n=t.buffered,r=t.currentTime,i=t.duration,a=t.seekTime,l=null!=a&&a<r?a:r;return o.a.createElement("div",{className:"ui-video-seek-slider"},o.a.createElement("div",{className:null!=a?"track active":"track",ref:function(t){return e.track=t},onPointerDown:this.handleSeekEnd,onMouseMove:v()?null:this.handleStartHover,onMouseLeave:v()?null:this.handleEndHover},o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"buffered",style:this.getPositionStyle(n,i)}),o.a.createElement("div",{className:"connect",style:this.getPositionStyle(l,i)}),null!=a&&o.a.createElement("div",{className:"seek-hover",style:this.getPositionStyle(a,i)}),o.a.createElement("div",{className:"time-indicator shadow-border"},k(a||r)," / ",k(i)))))}}])&&S(n.prototype,r),i&&S(n,i),t}(r.Component);T.defaultProps={duration:100,currentTime:0,buffered:0},T.propTypes={buffered:s.a.number,duration:s.a.number,currentTime:s.a.number,seekTime:s.a.number,onSeekTime:s.a.func.isRequired,onSeekEnd:s.a.func.isRequired};var x,C=T,M=(n(84),n(136)),R=n(131),F=n(128),A=n(137),D=n(138),z=n(139),L=n(140),N=n(141),V=n(142),U=n(143),I=n(144),W=n(145),q=n(129),H=n(130),B=n(132),G=n(152),K=n(47);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=Object(c.c)(x=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=J(this,Q(t).call(this,e,n))).handleVolumeUp=function(){return r.changeVolue(1)},r.handleVolumeDown=function(){return r.changeVolue(-1)},r.handleCloseRequest=function(){r.setState({anchorEl:null})},r.toggleVolumePopup=function(e){var t=e.currentTarget;r.setState((function(e){return{anchorEl:e.anchorEl?null:t}}))},r.state={anchorEl:null},r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,e),n=t,(i=[{key:"changeVolue",value:function(e){var t=this.props.device,n=(Math.ceil(15*t.volume)+e)/15;t.setVolume(Math.max(Math.min(n,1),0))}},{key:"render",value:function(){var e=this.props.device.volume,t=this.state.anchorEl;return o.a.createElement(r.Fragment,null,o.a.createElement(F.a,{onClick:this.toggleVolumePopup},0==e&&o.a.createElement(q.a,null),e>0&&o.a.createElement(H.a,null)),o.a.createElement(G.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"left"},open:null!=t,onClose:this.handleCloseRequest},o.a.createElement(R.a,null,o.a.createElement("div",{className:"sound-control__mobile"},o.a.createElement(F.a,{onClick:this.handleVolumeDown},o.a.createElement(B.a,null)),o.a.createElement(K.a,{variant:"body2",align:"center"},Math.ceil(15*e)),o.a.createElement(F.a,{onClick:this.handleVolumeUp},o.a.createElement(H.a,null))))))}}])&&Y(n.prototype,i),a&&Y(n,a),t}(r.Component))||x;$.propTypes={device:s.a.object.isRequired};var ee,te=$,ne=n(153);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=Object(c.c)(ee=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ie(this,ae(t).call(this,e,n))).handleVolumDown=function(){r.props.device.setVolume(0)},r.handleVolumUp=function(){r.props.device.setVolume(1)},r.handleVolume=function(e,t){r.props.device.setVolume(t/100)},r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props.device.volume;return o.a.createElement(r.Fragment,null,o.a.createElement(F.a,{onClick:this.handleVolumDown},o.a.createElement(B.a,null)),o.a.createElement(ne.a,{className:"sound-control__slider ",value:100*e,onChange:this.handleVolume}),o.a.createElement(F.a,{onClick:this.handleVolumUp},o.a.createElement(H.a,null)))}}])&&oe(n.prototype,i),a&&oe(n,a),t}(r.Component))||ee;ce.propTypes={device:s.a.object.isRequired};var ue,se=ce,pe=n(154),fe=n(135),ye=n(133);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ge=Object(c.c)(ue=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=be(this,me(t).call(this,e,n))).handleClick=function(e){r.setState({anchorEl:e.currentTarget})},r.handleClose=function(){r.setState({anchorEl:null})},r.selectTrack=function(e){r.props.device.audioTrack=e,r.setState({anchorEl:null})},r.state={anchorEl:null},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.state.anchorEl,n=this.props.device,r=n.audioTrack,i=n.audioTracks;return o.a.createElement("span",null,o.a.createElement(F.a,{onClick:this.handleClick},o.a.createElement(ye.a,null)),o.a.createElement(pe.a,{id:"simple-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:this.handleClose},i.map((function(t){var n=t.id,i=t.name;return o.a.createElement(fe.a,{key:n,selected:n==r,onClick:function(){return e.selectTrack(n)}},i)}))))}}])&&he(n.prototype,r),i&&he(n,i),t}(r.Component))||ue;ge.propTypes={device:s.a.object.isRequired};var ke,we=ge;function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=Object(c.c)(ke=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Se(this,Pe(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props,t=e.onPlaylistToggle,n=e.onFullScreenToggle,i=e.fullScreen,a=e.device,l=e.onPrev,c=e.onNext,u=a.isLocal(),s=a.currentFileIndex,p=a.playlist.files,f=a.shuffle,y=g(),d=a.audioTracks.length>1;return o.a.createElement(M.a,{direction:"up",in:!0,mountOnEnter:!0,unmountOnExit:!0},o.a.createElement(R.a,{elevation:0,square:!0,className:"player-controls"},o.a.createElement(C,{buffered:a.buffered,currentTime:a.currentTime,seekTime:a.seekTime,duration:a.duration,onSeekEnd:function(e){return a.seek(e)},onSeekTime:function(e){return a.seeking(e)}}),o.a.createElement("div",{className:"player-controls__panel"},o.a.createElement("div",{className:"player-controls__panel-section"},0!=s&&o.a.createElement(F.a,{onClick:l},o.a.createElement(A.a,null)),!a.isPlaying&&o.a.createElement(F.a,{onClick:function(){return a.resume()}},o.a.createElement(D.a,null)),a.isPlaying&&o.a.createElement(F.a,{onClick:function(){return a.pause()}},o.a.createElement(z.a,null)),s<p.length-1&&o.a.createElement(F.a,{onClick:c},o.a.createElement(L.a,null)),p.length>1&&o.a.createElement(r.Fragment,null,f&&o.a.createElement(F.a,{onClick:function(){return a.setShuffle(!1)}},o.a.createElement(N.a,null)),!f&&o.a.createElement(F.a,{onClick:function(){return a.setShuffle(!0)}},o.a.createElement(V.a,null))),y&&o.a.createElement(te,{device:a}),!y&&o.a.createElement(se,{device:a}),d&&o.a.createElement(we,{device:a})),o.a.createElement("div",{className:"player-controls__panel-section"},u&&o.a.createElement(F.a,{onClick:function(){return n()}},!i&&o.a.createElement(U.a,null),i&&o.a.createElement(I.a,null)),o.a.createElement(F.a,{onClick:function(){return t()}},o.a.createElement(W.a,null))))))}}])&&Ee(n.prototype,i),a&&Ee(n,a),t}(r.Component))||ke;_e.propTypes={device:s.a.object.isRequired,onPlaylistToggle:s.a.func.isRequired,onFullScreenToggle:s.a.func,onPrev:s.a.func.isRequired,onNext:s.a.func.isRequired,fullScreen:s.a.bool};var Te,xe=_e,Ce=n(134),Me=n(107),Re=n(146),Fe=n(45),Ae=n(62),De=n.n(Ae),ze=n(49);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var We=Object(c.c)(Te=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ve(this,Ue(t).call(this,e,n))).handleOpenGroupsMenu=function(e){r.setState({anchorEl:e.currentTarget})},r.handleCloseGroupsMenu=function(){r.setState({anchorEl:null})},r.handleSelectGroup=function(e){r.setState({selectedGroup:e,anchorEl:null})},r.getGroups=Object(ze.a)(O),r.getFileGroup=Object(ze.a)((function(e,t){return t.find((function(t){return null!=t.files.find((function(t){return t.id==e}))}))})),r.state={selectedGroup:null,anchorEl:null},r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this,t=this.state,n=t.selectedGroup,i=t.anchorEl,a=this.props,l=a.device,c=l.playlist,u=l.currentFileIndex,s=a.open,p=a.onFileSelected,f=c.files,y=this.getGroups(f),d=f[u].id,h=this.getFileGroup(d,y);n=n||h;var b=y.length>1?n.files:f;return o.a.createElement(M.a,{direction:"left",in:s,mountOnEnter:!0,unmountOnExit:!0},o.a.createElement(R.a,{elevation:12,square:!0,className:"player__file-list"},y.length>1&&o.a.createElement(r.Fragment,null,o.a.createElement(Ce.a,null,o.a.createElement(Me.a,{button:!0,style:{background:Fe.a[600]},onClick:this.handleOpenGroupsMenu},o.a.createElement(Re.a,{primary:n.name}),o.a.createElement(De.a,{nativeColor:"white"}))),o.a.createElement(pe.a,{anchorEl:i,open:Boolean(i),onClose:this.handleCloseGroupsMenu},y.map((function(t){return o.a.createElement(fe.a,{key:t.name,style:t.name==n.name?{background:Fe.a[600]}:{},onClick:function(){return e.handleSelectGroup(t)}},o.a.createElement("span",{style:{wordBreak:"break-all",whiteSpace:"normal"}},t.name))})))),o.a.createElement(Ce.a,null,b.map((function(e){var t=d==e.id?{background:Fe.a[600]}:{};return o.a.createElement(Me.a,{button:!0,key:e.id,style:t,onClick:function(){return p(f.findIndex((function(t){return t.id==e.id})))}},o.a.createElement(Re.a,{primary:o.a.createElement("span",{style:{wordBreak:"break-all"}},e.name)}))})))))}}])&&Ne(n.prototype,i),a&&Ne(n,a),t}(r.Component))||Te;We.propTypes={device:s.a.object.isRequired,open:s.a.bool,onFileSelected:s.a.func.isRequired};var qe=We;function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ye=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ge(this,Ke(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.title;return o.a.createElement("div",{className:"player__title"},o.a.createElement(K.a,{variant:"h6",style:{wordBreak:"break-all",marginLeft:"10px"}},e))}}])&&Be(n.prototype,r),i&&Be(n,i),t}(r.Component);Ye.propTypes={title:s.a.string};var Je=Ye,Qe=n(65),Ze=n(23),$e=n.n(Ze),et=n(3);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var at=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rt(this,ot(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;this.disposeReactions=function(){var e=Array.from(arguments);return function(){e.forEach((function(e){e.call()}))}}(Object(et.m)((function(){return e.props.device.isPlaying}),this.onPlayPause.bind(this)),Object(et.m)((function(){return e.props.device.seekTo}),this.onSeek.bind(this)),Object(et.m)((function(){return e.props.device.isMuted}),this.onMute.bind(this)),Object(et.m)((function(){return e.props.device.volume}),this.onVolume.bind(this)),Object(et.m)((function(){return e.props.device.source}),(function(t){return e.onSource(t,e.props.device.currentTime)})),Object(et.m)((function(){return e.props.device.audioTrack}),(function(t){return e.onAudioTrack(t)})))}},{key:"onPlayPause",value:function(e){}},{key:"onSeek",value:function(e){}},{key:"onMute",value:function(e){}},{key:"onVolume",value:function(e){}},{key:"onSource",value:function(e){}},{key:"onAudioTrack",value:function(e){}},{key:"componentWillUnmount",value:function(){this.disposeReactions()}}])&&nt(n.prototype,r),o&&nt(n,o),t}(r.Component);at.propTypes={device:s.a.object.isRequired,onEnded:s.a.func};var lt,ct=at;function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t,n){return(st="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?ht(e):t}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vt,gt=function(e){function t(e){var n;ft(this,t);var r=(n=yt(this,dt(t).call(this,e))).load.bind(ht(n)),o=null;return e.extractor&&(o=m(e.extractor)),n.load=function(e,t,n){if(o){if(e.url.startsWith(window.location.origin)){var i=decodeURIComponent(e.frag.baseurl.split("&url=")[1]);e.url=new URL(e.frag.relurl,i).toString()}e.url=o(e.url)}r(e,t,n)},n}return bt(t,e),t}($e.a.DefaultConfig.loader),kt=Object(c.c)(lt=function(e){function t(e,n){var r;return ft(this,t),(r=yt(this,dt(t).call(this,e,n))).restoreVideoState=function(){var e=ht(r),t=e.video,n=e.props.device;t.currentTime=n.currentTime,t.muted=n.isMuted,t.volume=n.volume,n.isPlaying?t.play():t.pause()},r.handleLoadStart=function(){var e=r.props.device;e.setLoading(!0),e.setError(null)},r.handleError=function(){var e=ht(r),t=e.props.device,n=e.alternativeUrls;if(n&&n.length>0)return r.setVideoSource(n.pop()),void r.restoreVideoState();r.hlsMode||!r.isHlsAvaliable()?(t.setError("Could not play media"),t.setLoading(!1)):r.startHlsVideo()},r.handleLoadedMetadata=function(){var e=r.props.device;r.handleUpdate(),r.handleResize(),e.setError(null),e.setLoading(!1)},r.handleResize=function(){r.container&&(r.video.className="scale_".concat(r.getVideoScale()))},r.handleWaiting=function(){r.props.device.setLoading(!0)},r.handlePlay=function(){r.props.device.setLoading(!1)},r.handleUpdate=function(){var e=r.props.device,t=ht(r).video,n=t.buffered,o=t.duration,i=t.currentTime;e.onUpdate({duration:o,buffered:n.length>0?n.end(n.length-1):0,currentTime:i})},r.handleEnded=function(){var e=r.props,t=e.device,n=e.onEnded;t.pause(),n()},r.state={videoScale:"hor"},r}var n,r,i;return bt(t,e),n=t,(r=[{key:"componentDidMount",value:function(){st(dt(t.prototype),"componentDidMount",this).call(this),this.initVideo()}},{key:"componentWillUnmount",value:function(){st(dt(t.prototype),"componentWillUnmount",this).call(this),this.disposeHls()}},{key:"onPlayPause",value:function(e){e?this.video.play():this.video.pause()}},{key:"onSeek",value:function(e){this.video.currentTime=e}},{key:"onMute",value:function(e){this.video.muted=e}},{key:"onVolume",value:function(e){this.video.volume=e}},{key:"onSource",value:function(){this.initVideo()}},{key:"onAudioTrack",value:function(e){this.hls&&(this.hls.audioTrack=e)}},{key:"disposeHls",value:function(){this.hls&&(this.hls.stopLoad(),this.hls.detachMedia(),this.hls.destroy()),this.hlsMode=!1,this.keepAliveInterval&&clearInterval(this.keepAliveInterval)}},{key:"initVideo",value:function(){var e=this.props.device.source,t=e.browserUrl,n=e.url,r=e.manifestUrl,o=e.alternativeUrls;this.alternativeUrls=o;var i=this.video;if(this.disposeHls(),t)i.src=t;else if(n)this.setVideoSource(n);else{if(!r){var a=this.props.device;return a.setLoading(!1),void a.setError("No suitable video source")}this.startHlsVideo()}this.restoreVideoState()}},{key:"setVideoSource",value:function(e){var t=this.props.device.source.extractor,n=this.video;n.src=t?m(t)(e):e}},{key:"startHlsVideo",value:function(){var e=this;this.hlsMode=!0;var t=this.props.device,n=t.source,r=new $e.a({startPosition:t.currentTime,xhrSetup:function(e){e.timeout=0},extractor:n.extractor,loader:gt});r.attachMedia(this.video),r.on($e.a.Events.MANIFEST_PARSED,(function(){e.restoreVideoState(),r.audioTracks&&r.audioTracks.length>1&&t.setAudioTracks(r.audioTracks.map((function(e){return{id:e.id,name:e.name}})))})),r.on($e.a.Events.ERROR,(function(e,n){if(n.fatal)switch(n.type){case $e.a.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover"),r.startLoad();break;case $e.a.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover"),r.recoverMediaError();break;default:t.setError("Can`t play media"),r.destroy()}})),r.loadSource(n.manifestUrl),this.hls=r}},{key:"isHlsAvaliable",value:function(){return this.props.device.source.manifestUrl&&$e.a.isSupported()}},{key:"getVideoScale",value:function(){return this.video.videoWidth/this.video.videoHeight<this.container.clientWidth/this.container.clientHeight?"vert":"hor"}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"player__player-screen",ref:function(t){return e.container=t}},o.a.createElement(Qe.a,{skipOnMount:!0,handleWidth:!0,handleHeight:!0,onResize:this.handleResize}),o.a.createElement("video",{ref:function(t){return e.video=t},onDurationChange:this.handleUpdate,onProgress:this.handleUpdate,onTimeUpdate:this.handleUpdate,onLoadedMetadata:this.handleLoadedMetadata,onEnded:this.handleEnded,onLoadStart:this.handleLoadStart,onWaiting:this.handleWaiting,onPlaying:this.handlePlay,onError:this.handleError}))}}])&&ut(n.prototype,r),i&&ut(n,i),t}(ct))||lt,wt=n(147),Ot=n(148),Et=n(149);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xt=Object(c.c)(vt=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=jt(this,_t(t).call(this,e,n))).handleFastFroward=function(e){r.startSeeking(e,"ff")},r.handleFastRewind=function(e){r.startSeeking(e,"fr")},r.startSeeking=function(e,t){e.stopPropagation(),r.cleanUp(),window.addEventListener("touchend",r.handleSeekEnd),window.addEventListener("touchmove",r.handlePreventScroll,{passive:!1}),window.addEventListener("touchcancel",r.handleSeekEnd),window.addEventListener("mouseup",r.handleSeekEnd);var n=r.props.device;n.seeking(n.currentTime),n.pause();var o=n.currentTime;r.lastTs=Date.now(),r.accTime=0,r.setState({seekMode:t,time:o},(function(){r.stepInterval=setInterval(r.seekStep,100)}))},r.handleSeekEnd=function(){r.props.device.play(r.targetTime),r.setState({seekMode:null}),r.targetTime=null,r.lastTs=null,r.cleanUp()},r.seekStep=function(){var e=Date.now(),t=(e-r.lastTs)/1e3,n=15;r.accTime>120?n=60:r.accTime>30&&(n=30);var o=r.accTime+Math.floor(t*n),i=r.state.seekMode,a=r.props.device,l=a.currentTime,c=a.duration,u=a.seeking,s="ff"==i?l+o:l-o;s<0||s>c?clearInterval(r.stepInterval):(r.accTime=o,r.lastTs=e,r.targetTime=s,u(s))},r.state={seekMode:null},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,e),n=t,(r=[{key:"handlePreventScroll",value:function(e){e.cancelable&&(e.preventDefault(),e.stopImmediatePropagation())}},{key:"componentWillUnmount",value:function(){this.cleanUp()}},{key:"cleanUp",value:function(){window.removeEventListener("touchend",this.handleSeekEnd),window.removeEventListener("touchmove",this.handlePreventScroll),window.removeEventListener("touchcancel",this.handleSeekEnd),window.removeEventListener("mouseup",this.handleSeekEnd),clearInterval(this.stepInterval)}},{key:"render",value:function(){var e=this.state.seekMode,t=this.props,n=t.device,r=n.isPlaying,i=n.isLoading,a=t.onClick;return o.a.createElement("div",{className:"player__pause-zone ".concat(r||i?"":"player__pause-cover"),onMouseDown:a},o.a.createElement("div",{className:"playback-skip backward",onTouchStart:this.handleFastRewind,onMouseDown:this.handleFastRewind}),o.a.createElement("div",{className:"playback-skip__indicator"},"fr"==e&&o.a.createElement(wt.a,{className:"center",fontSize:"inherit"}),"ff"==e&&o.a.createElement(Ot.a,{className:"center",fontSize:"inherit"}),!e&&!r&&o.a.createElement(Et.a,{className:"center",fontSize:"inherit"})),o.a.createElement("div",{className:"playback-skip forward",onTouchStart:this.handleFastFroward,onMouseDown:this.handleFastFroward}))}}])&&Pt(n.prototype,r),i&&Pt(n,i),t}(r.Component))||vt;xt.propTypes={device:s.a.object.isRequired,onClick:s.a.func.isRequired};var Ct=xt;function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return!t||"object"!==Mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ft(this,At(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.must,n=e.mustNot,r=e.children,o=!0,i=!0,a=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(i=(c=u.next()).done);i=!0)if(!c.value){o=!1;break}}catch(e){a=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw l}}if(o){var s=!0,p=!1,f=void 0;try{for(var y,d=n[Symbol.iterator]();!(s=(y=d.next()).done);s=!0)if(y.value){o=!1;break}}catch(e){p=!0,f=e}finally{try{s||null==d.return||d.return()}finally{if(p)throw f}}}return o?r:null}}])&&Rt(n.prototype,r),o&&Rt(n,o),t}(o.a.Component);zt.defaultProps={must:[],mustNot:[]},zt.propTypes={must:s.a.array,mustNot:s.a.array,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node]).isRequired};var Lt,Nt=zt,Vt=n(150);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bt=Object(c.b)("playerStore")(Lt=Object(c.c)(Lt=function(e){function t(e,n){var r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=Wt(t).call(this,e,n),(r=!i||"object"!==Ut(i)&&"function"!=typeof i?qt(o):i).handleTogglePlayList=function(){r.setState((function(e){return{playlistOpen:!e.playlistOpen}}))},r.handleClick=function(){var e=qt(r).props.playerStore.device;e.isPlaying?e.pause():e.play()},r.handleIdle=function(e){r.setState({idle:e})},r.handleSelectFile=function(e){r.props.playerStore.switchFile(e),g()&&r.setState({playlistOpen:!1})},r.handleToggleFullscreen=function(){var e=!r.state.fullScreen;r.setState({fullScreen:e})},r.handleSetFullScreen=function(e){r.setState({fullScreen:e}),e&&r.setState({idle:!0})},r.handleKeyUp=function(e){var t=qt(r).props.playerStore.device,n=e.ctrlKey?10:e.shiftKey?60:30;32==e.which?t.isPlaying?t.pause():t.play():37==e.which?t.skip(-n):39==e.which&&t.skip(n)},r.handleActivity=function(){var e=qt(r),t=e.state.idle,n=e.idleTimeout;clearTimeout(n),r.setIdleTimeout(),t&&r.setState({idle:!1})},r.state={playlistOpen:!1,idle:!1,fullScreen:!1},r.handleActivity=r.handleActivity.bind(qt(r)),r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,e),n=t,(r=[{key:"setIdleTimeout",value:function(){var e=this;this.idleTimeout=setTimeout((function(){return e.setState({idle:!0})}),3e3)}},{key:"componentWillUnmount",value:function(){var e=this,t=this.idleTimeout;clearTimeout(t),["mousemove","mousedown","keydown","touchstart","scroll"].forEach((function(t){return window.removeEventListener(t,e.handleActivity)})),window.removeEventListener("keyup",this.handleKeyUp)}},{key:"componentDidMount",value:function(){var e=this;this.setIdleTimeout(),["mousemove","mousedown","keydown","touchstart","scroll"].forEach((function(t){return window.addEventListener(t,e.handleActivity)})),window.addEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this.props.playerStore,t=this.state,n=t.playlistOpen,r=t.idle,i=t.fullScreen,a=e.device,l=a.isLoading,c=a.error,u=a.seekTime,s=r&&null==u;return o.a.createElement(f.a,{enabled:i,onChange:this.handleSetFullScreen},o.a.createElement("div",{className:s?"idle":""},o.a.createElement(Nt,{mustNot:[s]},o.a.createElement(Je,{title:e.getPlayerTitle()})),o.a.createElement(kt,{device:a,onEnded:e.endFile}),o.a.createElement(Nt,{must:[c]},o.a.createElement(K.a,{className:"center shadow-border",variant:"h4"},c)),o.a.createElement(Nt,{mustNot:[c]},o.a.createElement(Nt,{must:[l]},o.a.createElement("div",{className:"center"},o.a.createElement(Vt.a,{color:"secondary"}))),o.a.createElement(Ct,{device:a,onClick:this.handleClick}),o.a.createElement(Nt,{mustNot:[s]},o.a.createElement(qe,{open:n,device:a,onFileSelected:this.handleSelectFile}),o.a.createElement(xe,{fullScreen:i,device:a,onNext:function(){return e.nextFile()},onPrev:function(){return e.prevFile()},onPlaylistToggle:this.handleTogglePlayList,onFullScreenToggle:this.handleToggleFullscreen})))))}}])&&It(n.prototype,r),i&&It(n,i),t}(r.Component))||Lt)||Lt;Bt.propTypes={playerStore:s.a.object};var Gt=Bt;function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zt,$t,en,tn,nn,rn,on,an,ln,cn,un,sn,pn,fn,yn,dn,hn,bn,mn,vn,gn,kn,wn,On,En,Sn,Pn,jn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yt(this,Jt(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"screan-content"},o.a.createElement(Gt,null))}}])&&Xt(n.prototype,r),i&&Xt(n,i),t}(r.Component),_n=n(19),Tn=n.n(_n);function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function An(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t,n){return t&&Dn(e.prototype,t),n&&Dn(e,n),e}function Ln(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Nn=(Zt=et.d.bound,en=Ln(($t=function(){function e(){An(this,e),Fn(this,"playlist",en,this),Fn(this,"currentFileIndex",tn,this),Fn(this,"currentTime",nn,this),Fn(this,"duration",rn,this),Fn(this,"buffered",on,this),Fn(this,"isPlaying",an,this),Fn(this,"isLoading",ln,this),Fn(this,"error",cn,this),Fn(this,"volume",un,this),Fn(this,"isMuted",sn,this),Fn(this,"audioTracks",pn,this),Fn(this,"audioTrack",fn,this),Fn(this,"shuffle",yn,this),Fn(this,"seekTime",dn,this)}return zn(e,[{key:"isLocal",value:function(){return!0}},{key:"resume",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(e){}},{key:"seek",value:function(e){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"setVolume",value:function(e){}},{key:"selectFile",value:function(e){}},{key:"setPlaylist",value:function(e,t,n){}},{key:"setShuffle",value:function(e){}},{key:"setAudioTrack",value:function(e){}},{key:"setAudioTracks",value:function(e){}},{key:"seeking",value:function(e){this.seekTime=e}},{key:"skip",value:function(e){if(this.duration){var t=this.currentTime+e;this.seek(Math.min(Math.max(t,0),this.duration))}}}]),e}()).prototype,"playlist",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{name:"",files:[]}}}),tn=Ln($t.prototype,"currentFileIndex",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),nn=Ln($t.prototype,"currentTime",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rn=Ln($t.prototype,"duration",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),on=Ln($t.prototype,"buffered",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),an=Ln($t.prototype,"isPlaying",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ln=Ln($t.prototype,"isLoading",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cn=Ln($t.prototype,"error",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),un=Ln($t.prototype,"volume",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),sn=Ln($t.prototype,"isMuted",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pn=Ln($t.prototype,"audioTracks",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fn=Ln($t.prototype,"audioTrack",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yn=Ln($t.prototype,"shuffle",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dn=Ln($t.prototype,"seekTime",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ln($t.prototype,"seeking",[Zt],Object.getOwnPropertyDescriptor($t.prototype,"seeking"),$t.prototype),$t),Vn=(bn=Ln((hn=function(e){function t(){var e,n,r;return An(this,t),n=this,r=Cn(t).call(this),Fn(e=!r||"object"!==xn(r)&&"function"!=typeof r?Mn(n):r,"url",bn,Mn(e)),Fn(e,"seekTo",mn,Mn(e)),Fn(e,"source",vn,Mn(e)),Fn(e,"progress",gn,Mn(e)),e.getPlaylistPrefix=function(){return"playlist:".concat(e.playlist.provider,":").concat(e.playlist.id)},e.volume=Tn.a.get("volume")||1,e.shuffle=Tn.a.get("shuffle")||!1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(t,e),zn(t,[{key:"setSource",value:function(e){this.source=e,this.currentTime=e.currentTime||0,this.duration=0,this.buffered=0,this.audioTrack=null,this.audioTracks=[]}},{key:"play",value:function(e){if(this.isPlaying=!0,null!=e)this.currentTime=e,this.seekTo=e,this.seekTime=null;else{var t=parseFloat(Tn.a.get("".concat(this.getPlaylistPrefix(),":ts")));this.currentTime=isNaN(t)?0:t}}},{key:"seek",value:function(e){this.seekTo=e,this.seekTime=null}},{key:"resume",value:function(){this.isPlaying=!0}},{key:"pause",value:function(){this.isPlaying=!1}},{key:"onUpdate",value:function(e){var t=e.duration,n=e.buffered,r=e.currentTime;if(t&&(this.duration=t),n&&(this.buffered=n),r&&(this.currentTime=r,this.duration)){var o=Math.max(0,this.duration-60),i=Math.min(o,r);Tn.a.set("".concat(this.getPlaylistPrefix(),":ts"),i)}}},{key:"setPlaylist",value:function(e){this.playlist=e,this.selectFile(Tn.a.get("".concat(this.getPlaylistPrefix(),":current"))||0),this.play(),this.isPlaying=!1}},{key:"selectFile",value:function(e){var t=this.playlist.files;e<0||e>=t.length||((Tn.a.get("".concat(this.getPlaylistPrefix(),":current"))||0)!=e&&(Tn.a.set("".concat(this.getPlaylistPrefix(),":current"),e),Tn.a.set("".concat(this.getPlaylistPrefix(),":ts"),0)),this.currentFileIndex=e,this.setSource(t[this.currentFileIndex]))}},{key:"setLoading",value:function(e){this.isLoading=e}},{key:"setError",value:function(e){this.error=e}},{key:"setVolume",value:function(e){this.volume=e,Tn.a.set("volume",e)}},{key:"setAudioTrack",value:function(e){this.audioTrack=e}},{key:"setAudioTracks",value:function(e){this.audioTracks=e}},{key:"setShuffle",value:function(e){this.shuffle=e,Tn.a.set("shuffle",e)}},{key:"toggleMute",value:function(){this.isMuted=!this.isMuted}}]),t}(Nn)).prototype,"url",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mn=Ln(hn.prototype,"seekTo",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vn=Ln(hn.prototype,"source",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gn=Ln(hn.prototype,"progress",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ln(hn.prototype,"setSource",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"setSource"),hn.prototype),Ln(hn.prototype,"play",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"play"),hn.prototype),Ln(hn.prototype,"seek",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"seek"),hn.prototype),Ln(hn.prototype,"resume",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"resume"),hn.prototype),Ln(hn.prototype,"pause",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"pause"),hn.prototype),Ln(hn.prototype,"onUpdate",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"onUpdate"),hn.prototype),Ln(hn.prototype,"setPlaylist",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"setPlaylist"),hn.prototype),Ln(hn.prototype,"selectFile",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"selectFile"),hn.prototype),Ln(hn.prototype,"setLoading",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"setLoading"),hn.prototype),Ln(hn.prototype,"setError",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"setError"),hn.prototype),Ln(hn.prototype,"setVolume",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"setVolume"),hn.prototype),Ln(hn.prototype,"setAudioTrack",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"setAudioTrack"),hn.prototype),Ln(hn.prototype,"setAudioTracks",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"setAudioTracks"),hn.prototype),Ln(hn.prototype,"setShuffle",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"setShuffle"),hn.prototype),Ln(hn.prototype,"toggleMute",[et.d],Object.getOwnPropertyDescriptor(hn.prototype,"toggleMute"),hn.prototype),hn),Un=new(kn=et.d.bound,wn=et.d.bound,On=et.d.bound,En=et.d.bound,Pn=Ln((Sn=function(){function e(){An(this,e),Fn(this,"device",Pn,this)}return zn(e,[{key:"openPlaylist",value:function(e){this.device=new Vn,this.device.setPlaylist(e)}},{key:"switchFile",value:function(e){this.device.selectFile(e),this.device.play()}},{key:"prevFile",value:function(){this.switchFile(this.device.currentFileIndex-1)}},{key:"nextFile",value:function(){this.switchFile(this.device.currentFileIndex+1)}},{key:"endFile",value:function(){var e=this.device,t=e.currentFileIndex,n=e.shuffle,r=e.playlist.files;if(r.length>1&&n){var o;do{o=Math.round(Math.random()*(r.length-1))}while(o==t);this.switchFile(o)}else t==r.length-1?this.device.pause():this.switchFile(this.device.currentFileIndex+1)}},{key:"getPlayerTitle",value:function(){var e=this.device,t=e.playlist,n=t.name,r=t.files,o=e.currentFileIndex;if(n&&r)return n+(r.length>1?" - ".concat(o+1," / ").concat(r.length):"")}}]),e}()).prototype,"device",[et.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ln(Sn.prototype,"openPlaylist",[et.d],Object.getOwnPropertyDescriptor(Sn.prototype,"openPlaylist"),Sn.prototype),Ln(Sn.prototype,"switchFile",[kn],Object.getOwnPropertyDescriptor(Sn.prototype,"switchFile"),Sn.prototype),Ln(Sn.prototype,"prevFile",[wn],Object.getOwnPropertyDescriptor(Sn.prototype,"prevFile"),Sn.prototype),Ln(Sn.prototype,"nextFile",[On],Object.getOwnPropertyDescriptor(Sn.prototype,"nextFile"),Sn.prototype),Ln(Sn.prototype,"endFile",[En],Object.getOwnPropertyDescriptor(Sn.prototype,"endFile"),Sn.prototype),Sn),In={playerStore:Un},Wn=n(151);function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bn(e,t){return!t||"object"!==qn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xn=Object(a.a)({palette:{secondary:{light:l.a.A200,main:l.a[500],dark:l.a[900],contrastText:"#fff"},primary:{light:l.a.A200,main:l.a[500],dark:l.a[900],contrastText:"#fff"},type:"dark"},typography:{useNextVariants:!0},overrides:{MuiLinearProgress:{colorSecondary:{backgroundColor:"transparent"}},MuiMenuItem:{root:{height:"initial"}},MuiListItemIcon:{root:{marginRight:0,minWidth:"30px"}},MuiList:{padding:{paddingTop:0,paddingBottom:0}},MuiDrawer:{paper:{minWidth:"100%","@media (min-width:600px)":{minWidth:"40%"}}}}}),Yn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bn(this,Gn(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement(Wn.a,{theme:Xn},o.a.createElement(c.a,In,o.a.createElement(jn,null)))}}])&&Hn(n.prototype,r),i&&Hn(n,i),t}(r.Component);function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zn=new URLSearchParams(window.location.search),$n=Zn.get("provider"),er=Zn.get("id");function tr(e){e&&console.error(e),document.querySelector("#app .loader").textContent="Can`t load playlist"}$n&&er?fetch("".concat(window.API_BASE_URL,"/trackers/").concat($n,"/items/").concat(encodeURIComponent(er))).then((function(e){return e.json()})).then((function(e){Un.openPlaylist(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){Qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:er,provider:$n},e)),Object(i.render)(o.a.createElement(Yn,null),document.getElementById("app"))})).catch(tr):tr()},76:function(e,t,n){var r=n(77);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(54)(r,o);r.locals&&(e.exports=r.locals)},77:function(e,t,n){(e.exports=n(53)(!1)).push([e.i,"*{padding:0;margin:0;box-sizing:border-box}html{min-height:100%}.MuiButtonBase-root a{color:rgba(0,0,0,0.87);text-decoration:none}.screan-content{position:fixed;top:0;left:0;right:0;bottom:0}.center{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);text-align:center}.vmiddle{vertical-align:middle}.inset{padding-left:32px !important}.player-controls{position:absolute;bottom:0;left:0;right:0;padding-bottom:3px;opacity:1;z-index:3}.player__screen{height:100%;background:black;color:white}.player__player-screen{position:absolute;top:0;left:0;right:0;bottom:0;background:black}.player__player-screen video.scale_hor{position:absolute;top:50%;transform:translateY(-50%);width:100%    !important;height:auto   !important}.player__player-screen video.scale_vert{position:absolute;left:50%;transform:translateX(-50%);width:auto    !important;height:100%   !important}.player-controls__panel{display:flex;justify-content:space-between}.player__file-list{overflow-y:auto;width:100%;position:absolute;right:0;bottom:71px;top:0;opacity:0.8;z-index:2}@media (min-width: 768px){.player__file-list{width:576px}}.shadow-border,.player__title h6{text-shadow:0px 0px 5px rgba(0,0,0,0.8)}.player__title{position:absolute;z-index:1;top:0;left:0;display:flex;align-items:center;padding:5px}.hide-on-mobile{display:none}.hide-on-desktop{display:none}.playback-skip{position:absolute;top:25%;bottom:15%;height:50%;width:30%;z-index:1;touch-action:none}.playback-skip.forward{right:0}.playback-skip.backward{left:0}.playback-skip__indicator{filter:drop-shadow(0px 0px 5px rgba(0,0,0,0.8));color:white;pointer-events:none;position:absolute;top:0;left:0;right:0;height:100%;font-size:72px}.player__pause-zone{position:absolute;top:0;bottom:0;left:0;right:0}.sound-control__slider{width:150px !important;vertical-align:middle;margin:0 5px}.sound-control__mobile{display:flex;align-items:center}.idle{cursor:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=),none;user-select:none}.player__background-cover{background:no-repeat center center fixed;background-size:contain;position:absolute;top:0;bottom:0;left:0;right:0}.player__pause-cover{background-color:rgba(0,0,0,0.7);position:absolute;top:0;bottom:0;left:0;right:0}@media (min-width: 576px){.hide-on-mobile{display:inline-block}}@media (max-width: 576px){.hide-on-desktop{display:inline-block}}\n",""])},84:function(e,t,n){var r=n(85);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(54)(r,o);r.locals&&(e.exports=r.locals)},85:function(e,t,n){(e.exports=n(53)(!1)).push([e.i,'.ui-video-seek-slider{position:relative}.ui-video-seek-slider:focus{outline:none}.ui-video-seek-slider .track{padding:10px 0;cursor:pointer;outline:none}.ui-video-seek-slider .track:focus{border:0;outline:none}.ui-video-seek-slider .track .main{width:100%;height:100%;background-color:rgba(255,255,255,0.2);position:absolute;left:0;top:0;overflow:hidden;transition:transform 0.4s;outline:none}.ui-video-seek-slider .track .main:focus{border:0;outline:none}.ui-video-seek-slider .track .main .seek-hover{position:absolute;background-color:rgba(255,255,255,0.5);width:100%;height:100%;z-index:1;transform:scaleX(0.6);transform-origin:0 0;transition:opacity 0.4s}.ui-video-seek-slider .track .main .buffered{position:absolute;background-color:rgba(255,255,255,0.3);width:100%;height:100%;transform:scaleX(0.8);z-index:2;transform-origin:0 0}.ui-video-seek-slider .track .main .connect{position:absolute;background-color:#f00;width:100%;height:100%;z-index:3;left:0;transform:scaleX(0.13);transform-origin:0 0}.ui-video-seek-slider .time-indicator{z-index:4;position:absolute;text-align:center;width:100%;font-family:"Roboto", "Helvetica", "Arial", sans-serif;font-weight:bold;letter-spacing:0.1em;height:100%;touch-action:none;pointer-events:none;user-select:none}.ui-video-seek-slider{display:block}\n',""])}});